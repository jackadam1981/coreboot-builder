name: Build Coreboot Firmware

on:
  # æ”¯æŒæ‰‹åŠ¨è§¦å‘
  workflow_dispatch:
    inputs:
      release:
        description: 'åˆ›å»º Release å‘å¸ƒ / Create Release'
        required: false
        type: boolean
        default: false
      wds_server:
        description: 'WDS æœåŠ¡å™¨åœ°å€ / WDS Server IP (å¯é€‰ï¼Œå¦‚: 192.168.1.100)'
        required: false
        type: string
        default: ''
      wds_boot_file:
        description: 'WDS å¯åŠ¨æ–‡ä»¶ / WDS Boot File (å¯é€‰ï¼Œå¦‚: bootmgr.efi æˆ– bootx64.efi)'
        required: false
        type: string
        default: 'bootmgr.efi'

permissions:
  contents: write

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: æ£€å‡ºæ„å»ºä»“åº“ / Checkout Builder Repository
      uses: actions/checkout@v4

    - name: å…‹éš† MrChromebox Coreboot æºç  / Clone Coreboot Source
      run: |
        echo "ğŸ“¥ å…‹éš† MrChromebox corebootï¼ˆåŒ…å«ç½‘ç»œæ”¯æŒï¼‰"
        git clone https://github.com/MrChromebox/coreboot.git coreboot
        cd coreboot
        git submodule update --init --checkout --recursive

    - name: æ›¿æ¢è‡ªå®šä¹‰ Logo / Replace Custom Logo
      run: |
        if [ -f "coreboot_logo.bmp" ]; then
          cp coreboot_logo.bmp coreboot/Documentation/coreboot_logo.bmp
          echo "âœ… å·²æ›¿æ¢ä¸ºè‡ªå®šä¹‰ Logo"
        else
          echo "â„¹ï¸  ä½¿ç”¨é»˜è®¤ Logo"
        fi

    - name: é…ç½®ç½‘ç»œæ”¯æŒ / Configure Network Support
      run: |
        echo "ğŸ“ æ·»åŠ ç½‘ç»œæ ˆé…ç½®åˆ° kaisa é…ç½®æ–‡ä»¶"
        cd coreboot
        
        # æ˜¾ç¤ºåŸå§‹é…ç½®
        echo "ğŸ“‹ åŸå§‹é…ç½®ï¼š"
        cat configs/cml/config.kaisa.uefi
        
        # æ·»åŠ ç½‘ç»œæ”¯æŒé…ç½®
        echo "" >> configs/cml/config.kaisa.uefi
        echo "# ç½‘ç»œæ”¯æŒé…ç½®" >> configs/cml/config.kaisa.uefi
        echo "CONFIG_EDK2_NETWORK_PXE_SUPPORT=y" >> configs/cml/config.kaisa.uefi
        echo "CONFIG_EDK2_NETWORK_HTTP_BOOT_SUPPORT=y" >> configs/cml/config.kaisa.uefi
        echo "CONFIG_EDK2_NETWORK_ISCSI_SUPPORT=y" >> configs/cml/config.kaisa.uefi
        echo "CONFIG_EDK2_LOAD_OPTION_ROMS=y" >> configs/cml/config.kaisa.uefi
        echo "CONFIG_EDK2_PRIORITIZE_INTERNAL=y" >> configs/cml/config.kaisa.uefi
        
        echo ""
        echo "âœ… ç½‘ç»œé…ç½®å·²æ·»åŠ "
        echo "ğŸ“‹ æœ€ç»ˆé…ç½®ï¼š"
        cat configs/cml/config.kaisa.uefi

    # è®¾å¤‡æ ‘éªŒè¯æ­¥éª¤å·²ç§»é™¤ï¼Œç®€åŒ–æ„å»ºæµç¨‹

    - name: æ‹‰å– Coreboot SDK å®¹å™¨ / Pull Coreboot SDK
      run: docker pull coreboot/coreboot-sdk:latest

    - name: ä¸‹è½½é¢„ç¼–è¯‘ iPXE EFI åº”ç”¨ / Download Pre-compiled iPXE EFI
      run: |
        echo "ğŸ“¥ ä¸‹è½½é¢„ç¼–è¯‘ iPXE EFI åº”ç”¨ï¼ˆç”¨äºç¼–è¯‘æ—¶é›†æˆï¼‰"
        
        # åˆ›å»º iPXE æµ‹è¯•ç›®å½•
        mkdir -p ipxe_test
        cd ipxe_test
        
        # ä¸‹è½½å®˜æ–¹é¢„ç¼–è¯‘ iPXE EFI æ–‡ä»¶
        echo "ğŸ”§ ä¸‹è½½ iPXE EFI æ–‡ä»¶..."
        
        # ä¸‹è½½å®˜æ–¹é¢„ç¼–è¯‘ iPXE EFI æ–‡ä»¶
        echo "ğŸ“¥ ä» https://boot.ipxe.org/ ä¸‹è½½ ipxe.efi (1.0M)"
        wget -O ipxe-efi-x86_64.efi "https://boot.ipxe.org/ipxe.efi" || {
          echo "âŒ å®˜æ–¹æºå¤±è´¥ï¼Œå°è¯•è½»é‡ç‰ˆæœ¬ snponly.efi (203K)"
          wget -O ipxe-efi-x86_64.efi "https://boot.ipxe.org/snponly.efi" || {
            echo "âŒ æ‰€æœ‰ä¸‹è½½æºéƒ½å¤±è´¥ï¼Œè·³è¿‡ iPXE é›†æˆ"
            cd ..
            exit 1
          }
        }
        
        # å¦‚æœä¸‹è½½æˆåŠŸï¼Œå¤åˆ¶åˆ°å·¥ä½œç›®å½•
        if [ -f "ipxe-efi-x86_64.efi" ]; then
          cp ipxe-efi-x86_64.efi ../ipxe_x64.efi
          echo "âœ… é¢„ç¼–è¯‘ iPXE EFI ä¸‹è½½æˆåŠŸ"
          echo "ğŸ“Š æ–‡ä»¶ä¿¡æ¯ï¼š"
          ls -lh ipxe-efi-x86_64.efi
          file ipxe-efi-x86_64.efi
        fi
        
        cd ..
        
        # éªŒè¯ iPXE EFI æ–‡ä»¶
        if [ -f "ipxe_x64.efi" ]; then
          echo "âœ… iPXE EFI æ–‡ä»¶å·²å‡†å¤‡"
          ls -lh ipxe_x64.efi
          file ipxe_x64.efi
          echo "iPXE æ–‡ä»¶å‰16å­—èŠ‚ï¼ˆé­”æ•°æ£€æŸ¥ï¼‰ï¼š"
          hexdump -C ipxe_x64.efi | head -2
          
          echo ""
          echo "ğŸ” æ£€æŸ¥ iPXE ç½‘ç»œé©±åŠ¨æ”¯æŒï¼ˆé’ˆå¯¹ RTL8111H/RTL8168ï¼‰ï¼š"
          # æ£€æŸ¥ RTL8168 ç³»åˆ—é©±åŠ¨ï¼ˆå…¼å®¹ RTL8111Hï¼‰
          strings ipxe_x64.efi | grep -i "rtl8168" && echo "âœ… åŒ…å« RTL8168 é©±åŠ¨ï¼ˆå…¼å®¹ RTL8111Hï¼‰" || echo "âŒ æœªæ‰¾åˆ° RTL8168 é©±åŠ¨"
          strings ipxe_x64.efi | grep -i "rtl816" && echo "âœ… åŒ…å« RTL816 ç³»åˆ—é©±åŠ¨" || echo "âŒ æœªæ‰¾åˆ° RTL816 ç³»åˆ—é©±åŠ¨"
          strings ipxe_x64.efi | grep -i "realtek" && echo "âœ… åŒ…å« Realtek é©±åŠ¨æ”¯æŒ" || echo "âŒ æœªæ‰¾åˆ° Realtek é©±åŠ¨"
          
          echo ""
          echo "ğŸ” æ£€æŸ¥ç½‘ç»œåŠŸèƒ½æ”¯æŒï¼š"
          strings ipxe_x64.efi | grep -i "dhcp" && echo "âœ… åŒ…å« DHCP æ”¯æŒ" || echo "âŒ æœªæ‰¾åˆ° DHCP æ”¯æŒ"
          strings ipxe_x64.efi | grep -i "pxe" && echo "âœ… åŒ…å« PXE æ”¯æŒ" || echo "âŒ æœªæ‰¾åˆ° PXE æ”¯æŒ"
          strings ipxe_x64.efi | grep -i "http" && echo "âœ… åŒ…å« HTTP æ”¯æŒ" || echo "âŒ æœªæ‰¾åˆ° HTTP æ”¯æŒ"
        else
          echo "âŒ iPXE EFI æ–‡ä»¶ä¸å­˜åœ¨"
        fi
        

    - name: ç¼–è¯‘å›ºä»¶ï¼ˆç¼–è¯‘æ—¶é›†æˆ iPXEï¼‰/ Build Firmware with iPXE
      run: |
        mkdir -p roms
        echo "ğŸ“¦ ç¼–è¯‘å›ºä»¶ with ç¼–è¯‘æ—¶ iPXE é›†æˆ"
        
        # æ£€æŸ¥ iPXE æ–‡ä»¶æ˜¯å¦å­˜åœ¨
        if [ ! -f "ipxe_x64.efi" ]; then
          echo "âš ï¸  iPXE æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç¼–è¯‘ä¸å« iPXE çš„å›ºä»¶"
          docker run --rm --user root \
            -v ${{ github.workspace }}/coreboot:/home/coreboot/coreboot \
            -v ${{ github.workspace }}/roms:/home/coreboot/roms \
            -w /home/coreboot/coreboot \
            coreboot/coreboot-sdk:latest \
            bash -c "git config --global --add safe.directory /home/coreboot/coreboot && \
                     ./build-uefi.sh kaisa && \
                     chmod 644 /home/coreboot/roms/*.rom"
        else
          echo "âœ… iPXE æ–‡ä»¶å­˜åœ¨ï¼Œå…ˆç¼–è¯‘åŸºç¡€å›ºä»¶ï¼Œç„¶åå°è¯•è¿è¡Œæ—¶é›†æˆ"
          
          # å…ˆç¼–è¯‘åŸºç¡€å›ºä»¶
          docker run --rm --user root \
            -v ${{ github.workspace }}/coreboot:/home/coreboot/coreboot \
            -v ${{ github.workspace }}/roms:/home/coreboot/roms \
            -w /home/coreboot/coreboot \
            coreboot/coreboot-sdk:latest \
            bash -c "git config --global --add safe.directory /home/coreboot/coreboot && \
                     ./build-uefi.sh kaisa && \
                     chmod 644 /home/coreboot/roms/*.rom"
          
          echo "ğŸ”§ å°è¯•è¿è¡Œæ—¶é›†æˆ iPXEï¼ˆä½¿ç”¨ cbfstoolï¼‰..."
          
          # æ‰¾åˆ°ç”Ÿæˆçš„ ROM æ–‡ä»¶
          ROM_FILE=$(ls roms/coreboot_*.rom | head -1)
          
          if [ -n "$ROM_FILE" ]; then
            echo "ğŸ“‹ æ‰¾åˆ° ROM æ–‡ä»¶: $ROM_FILE"
            
            # å¤‡ä»½åŸå§‹å›ºä»¶
            cp "$ROM_FILE" "roms/coreboot_kaisa_without_ipxe.rom"
            
            # å°è¯•æ·»åŠ  iPXE åˆ° CBFSï¼ˆä½¿ç”¨ LZMA å‹ç¼©ï¼‰
            echo "ğŸ”§ æ·»åŠ  iPXE åˆ° CBFSï¼ˆä½¿ç”¨ LZMA å‹ç¼©ï¼‰..."
            coreboot/build/cbfstool "$ROM_FILE" add -f ipxe_x64.efi -n efi/ipxe/ipxe.efi -t raw -c lzma || {
              echo "âŒ LZMA å‹ç¼©å¤±è´¥ï¼Œå°è¯•æ— å‹ç¼©..."
              coreboot/build/cbfstool "$ROM_FILE" add -f ipxe_x64.efi -n efi/ipxe/ipxe.efi -t raw || {
                echo "âŒ æ— å‹ç¼©ä¹Ÿå¤±è´¥ï¼Œå°è¯•å…¶ä»–è·¯å¾„..."
                coreboot/build/cbfstool "$ROM_FILE" add -f ipxe_x64.efi -n efi/boot/ipxe.efi -t raw || {
                  echo "âŒ æ‰€æœ‰è·¯å¾„éƒ½å¤±è´¥ï¼Œä¿æŒåŸå§‹å›ºä»¶"
                  cp "roms/coreboot_kaisa_without_ipxe.rom" "$ROM_FILE"
                }
              }
            }
            
            echo "âœ… iPXE é›†æˆå®Œæˆ"
          else
            echo "âŒ æœªæ‰¾åˆ° ROM æ–‡ä»¶"
          fi
        fi
    
    - name: éªŒè¯ç¼–è¯‘æ—¶é›†æˆç»“æœ / Verify Build-time Integration
      run: |
        echo "ğŸ“¦ éªŒè¯ç¼–è¯‘æ—¶ iPXE é›†æˆç»“æœ"
        
        # æ‰¾åˆ°ç”Ÿæˆçš„ ROM æ–‡ä»¶
        ROM_FILE=$(ls roms/coreboot_*.rom | head -1)
        
        if [ -z "$ROM_FILE" ]; then
          echo "âŒ æœªæ‰¾åˆ° ROM æ–‡ä»¶"
          ls -la roms/
          exit 1
        fi
        
        echo "ğŸ“‹ ROM æ–‡ä»¶: $ROM_FILE"
        
        # æ˜¾ç¤ºå›ºä»¶è¯¦ç»†ä¿¡æ¯
        echo ""
        echo "ğŸ“Š å›ºä»¶æ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼š"
        ls -la "$ROM_FILE"
        
        # éªŒè¯ CBFS å†…å®¹
        echo ""
        echo "ğŸ“¦ è¯¦ç»†éªŒè¯ CBFS å†…å®¹ï¼š"
        echo "=== å®Œæ•´ CBFS å†…å®¹ ==="
        coreboot/build/cbfstool "$ROM_FILE" print
        
        echo ""
        echo "=== æŸ¥æ‰¾ iPXE ç›¸å…³æ¡ç›® ==="
        coreboot/build/cbfstool "$ROM_FILE" print | grep -i ipxe || echo "âŒ æœªæ‰¾åˆ° iPXE æ¡ç›®"
        
        echo ""
        echo "=== æŸ¥æ‰¾ EFI ç›¸å…³æ¡ç›® ==="
        coreboot/build/cbfstool "$ROM_FILE" print | grep -i efi || echo "âŒ æœªæ‰¾åˆ° EFI æ¡ç›®"
        
        echo ""
        echo "=== æŸ¥æ‰¾ boot ç›¸å…³æ¡ç›® ==="
        coreboot/build/cbfstool "$ROM_FILE" print | grep -i boot || echo "âŒ æœªæ‰¾åˆ° boot æ¡ç›®"
        
        echo ""
        echo "=== æ£€æŸ¥ EFI åº”ç”¨ç¨‹åºç±»å‹ ==="
        coreboot/build/cbfstool "$ROM_FILE" print | grep -E "(efi|boot)" | head -10
        
        echo ""
        echo "=== æ£€æŸ¥ iPXE æ–‡ä»¶å¤§å° ==="
        if coreboot/build/cbfstool "$ROM_FILE" print | grep -q "ipxe.efi"; then
          echo "âœ… iPXE EFI æ–‡ä»¶å·²æ‰¾åˆ°"
          coreboot/build/cbfstool "$ROM_FILE" print | grep "ipxe.efi"
        else
          echo "âŒ iPXE EFI æ–‡ä»¶æœªæ‰¾åˆ°"
        fi
        
        # ç”Ÿæˆæ ¡éªŒå’Œ
        echo "ğŸ” ç”Ÿæˆå›ºä»¶æ ¡éªŒå’Œ..."
        cd roms
        
        # åˆ é™¤æ—§çš„æ ¡éªŒå’Œæ–‡ä»¶
        rm -f *.sha1
        
        # ä¸ºå›ºä»¶ç”Ÿæˆæ ¡éªŒå’Œ
        echo "ç”Ÿæˆå›ºä»¶æ ¡éªŒå’Œ..."
        ROM_BASENAME=$(basename "$ROM_FILE")
        sha1sum "$ROM_BASENAME" > "${ROM_BASENAME}.sha1"
        
        echo "âœ… æ ¡éªŒå’Œå·²ç”Ÿæˆï¼š"
        ls -la *.sha1
        cat *.sha1
        
        cd ..

    - name: åˆ—å‡ºç¼–è¯‘äº§ç‰© / List Build Artifacts
      run: |
        echo "=== ç¼–è¯‘å®Œæˆçš„å›ºä»¶ / Compiled Firmware ==="
        ls -lh roms/
        
        echo ""
        echo "ğŸ“¦ å›ºä»¶è¯´æ˜ï¼š"
        echo "1. coreboot_*.rom - ç¼–è¯‘æ—¶é›†æˆäº† iPXE çš„å®Œæ•´å›ºä»¶ï¼ˆæ¨èï¼‰"
        echo "   - ä½¿ç”¨é¢„ç¼–è¯‘ iPXE EFI æ–‡ä»¶"
        echo "   - ç¼–è¯‘æ—¶é›†æˆï¼Œç©ºé—´åˆ©ç”¨æ›´é«˜æ•ˆ"
        echo "   - å¯åŠ¨èœå•ä¼šæ˜¾ç¤º iPXE é€‰é¡¹"

    - name: ä¸Šä¼ å›ºä»¶ / Upload Firmware Artifacts
      uses: actions/upload-artifact@v4
      with:
        name: coreboot-firmware-kaisa-${{ github.run_number }}
        path: roms/*.rom
        retention-days: 30

    - name: ä¸Šä¼  iPXE æ–‡ä»¶ / Upload iPXE Files
      uses: actions/upload-artifact@v4
      with:
        name: ipxe-boot-files-${{ github.run_number }}
        path: |
          ipxe_x64.efi
        retention-days: 30

    - name: ä¸Šä¼ æ ¡éªŒå’Œ / Upload Checksums
      uses: actions/upload-artifact@v4
      with:
        name: coreboot-checksums-kaisa-${{ github.run_number }}
        path: roms/*.sha1
        retention-days: 30

    - name: åˆ›å»º Release / Create Release
      if: ${{ inputs.release == true }}
      uses: softprops/action-gh-release@v1
      with:
        tag_name: firmware-kaisa-${{ github.run_number }}
        name: Coreboot Firmware - kaisa
        body: |
          ## Coreboot å›ºä»¶ç¼–è¯‘ / Coreboot Firmware Build
          
          **è®¾å¤‡ / Device:** Acer Chromebox CXI4 (kaisa)
          **Payload:** UEFI (MrChromebox EDK2)
          **ç½‘ç»œæ”¯æŒ / Network:** âœ… EDK2 åŸç”Ÿç½‘ç»œæ ˆ + iPXE é›†æˆ
          **æ„å»ºæ—¥æœŸ / Build Date:** ${{ github.run_id }}
          **æºç  / Source:** MrChromebox Coreboot
          
          ### å›ºä»¶è¯´æ˜ / Firmware Description
          æœ¬æ¬¡æ„å»ºä½¿ç”¨**ç¼–è¯‘æ—¶é›†æˆ**æ–¹å¼ï¼š
          
          **coreboot_edk2-kaisa-mrchromebox_*.rom** - ç¼–è¯‘æ—¶é›†æˆ iPXE çš„å®Œæ•´å›ºä»¶ â­**æ¨è**
             - ä½¿ç”¨é¢„ç¼–è¯‘ iPXE EFI æ–‡ä»¶
             - ç¼–è¯‘æ—¶é›†æˆï¼Œç©ºé—´åˆ©ç”¨æ›´é«˜æ•ˆ
             - å¯åŠ¨èœå•ä¼šæ˜¾ç¤º iPXE é€‰é¡¹
             - æ— éœ€ U ç›˜å³å¯ç½‘ç»œå¯åŠ¨
             - æ–‡ä»¶å¤§å°ï¼šçº¦ 16MBï¼ˆåŒ…å« iPXEï¼‰
             - è§£å†³äº† CBFS ç©ºé—´ç´§å¼ é—®é¢˜
          
          ### ä½¿ç”¨è¯´æ˜ / Instructions
          
          **ç¼–è¯‘æ—¶é›†æˆ iPXE å›ºä»¶ï¼š**
          1. ä¸‹è½½ `coreboot_edk2-kaisa-mrchromebox_*.rom`
          2. ä½¿ç”¨ flashrom åˆ·å†™ï¼š`flashrom -p internal -w coreboot_edk2-kaisa-mrchromebox_*.rom`
          3. é‡å¯ååœ¨ UEFI å¯åŠ¨èœå•é€‰æ‹© iPXE
          4. äº«å—ç¼–è¯‘æ—¶é›†æˆçš„ç©ºé—´ä¼˜åŠ¿ï¼
          
          ### å›ºä»¶ç‰¹æ€§ / Features
          - âœ… å®Œæ•´ UEFI ç¯å¢ƒï¼ˆMrChromebox EDK2ï¼‰
          - âœ… EDK2 åŸç”Ÿç½‘ç»œæ ˆï¼ˆPXE/HTTP/iSCSIï¼‰
          - âœ… ç¼–è¯‘æ—¶é›†æˆ iPXEï¼ˆç©ºé—´é«˜æ•ˆï¼‰
          - âœ… é¢„ç¼–è¯‘ iPXE EFI æ–‡ä»¶ï¼ˆç¨³å®šå¯é ï¼‰
          - âœ… RTL8168 ç½‘å¡å®Œæ•´æ”¯æŒ
          - âœ… å¯åŠ¨èœå•è‡ªåŠ¨æ˜¾ç¤º iPXE é€‰é¡¹
          
          ### ç½‘ç»œå¯åŠ¨è¯´æ˜ / Network Boot
          1. å¯åŠ¨åè¿›å…¥ UEFI å¯åŠ¨èœå•
          2. é€‰æ‹© "iPXE" æˆ– "UEFI Application" é€‰é¡¹
          3. è‡ªåŠ¨è¿›å…¥ iPXE ç½‘ç»œå¯åŠ¨ç¯å¢ƒ
          4. æ”¯æŒ DHCPã€HTTPã€HTTPS ç­‰åè®®
          
          ### æ–‡ä»¶æ¸…å• / File List
          
          **å›ºä»¶æ–‡ä»¶ / Firmware Files:**
          - `coreboot_edk2-kaisa-mrchromebox_YYYYMMDD.rom` - ç¼–è¯‘æ—¶é›†æˆ iPXE ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
          - `coreboot_edk2-kaisa-mrchromebox_YYYYMMDD.rom.sha1` - å›ºä»¶æ ¡éªŒå’Œ
          
          **iPXE å¯åŠ¨æ–‡ä»¶ / iPXE Boot Files:**
          - `ipxe_x64.efi` - é¢„ç¼–è¯‘ iPXE EFI åº”ç”¨ç¨‹åºï¼ˆç”¨äºç¼–è¯‘æ—¶é›†æˆï¼‰
          
          ### iPXE æ–‡ä»¶è¯´æ˜ / iPXE Files Description
          
          **ipxe_x64.efi**ï¼š
          - é¢„ç¼–è¯‘ iPXE EFI åº”ç”¨ç¨‹åº
          - ä¸“é—¨ä¸º RTL8111H/RTL8168 ç½‘å¡ä¼˜åŒ–
          - æ–‡ä»¶è¾ƒå°ï¼Œé€‚åˆå›ºä»¶é›†æˆ
          - æ”¯æŒ DHCP è‡ªåŠ¨ PXE å¼•å¯¼ WDS
          - ç¼–è¯‘æ—¶é›†æˆï¼Œç©ºé—´åˆ©ç”¨æ›´é«˜æ•ˆ
          - æ™ºèƒ½ WDS æœåŠ¡å™¨è‡ªåŠ¨å‘ç°
          
          ### WDS æœåŠ¡å™¨é…ç½® / WDS Server Configuration
          
          iPXE æ”¯æŒ DHCP è‡ªåŠ¨ PXE å¼•å¯¼ WDSï¼š
          
          **DHCP è‡ªåŠ¨é…ç½®**ï¼ˆæ¨èæ–¹å¼ï¼‰
          - åœ¨ DHCP æœåŠ¡å™¨ä¸­è®¾ç½® option 66 (next-server) å’Œ option 67 (filename)
          - iPXE ä¼šè‡ªåŠ¨ä½¿ç”¨è¿™äº›ä¿¡æ¯è¿æ¥ WDS æœåŠ¡å™¨
          - æ ‡å‡† WDS å¯åŠ¨æ–‡ä»¶ï¼š`boot/x64/wdsmgfw.efi` (UEFI) æˆ– `boot/x64/wdsnbp.com` (BIOS)
          
          **è‡ªåŠ¨å‘ç°å¤‡ç”¨æ–¹æ¡ˆ**
          - å¦‚æœ DHCP æœªé…ç½®ï¼ŒiPXE ä¼šè‡ªåŠ¨å°è¯•å¸¸è§åœ°å€
          - æ”¯æŒç§æœ‰åœ°å€æ®µæ‰«æï¼š192.168.x.10, 10.0.x.10, 172.16.0.10
          
          
        files: |
          roms/coreboot_*.rom
          roms/*.sha1
        draft: false
        prerelease: false
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

